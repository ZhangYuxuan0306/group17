{% extends "base.html" %}

{% block content %}
<section class="card">
    <h1>RAGAS è‡ªåŠ¨è¯„ä¼°</h1>
    <p>
        åŸºäº <strong>RAGAS</strong> çš„å¯è¯æ€§è¯„ä¼°ï¼Œè‡ªåŠ¨è¡¡é‡å›ç­”ä¸çŸ¥è¯†åº“ä¹‹é—´çš„ä¸€è‡´æ€§ä¸ç›¸å…³æ€§ï¼Œ
        å¸®åŠ©å®šä½æ£€ç´¢ã€é‡æ’ä¸ç”Ÿæˆç¯èŠ‚çš„æ½œåœ¨é—®é¢˜ã€‚
    </p>
</section>

<section class="card">
    <h2>âš™ï¸ è¯„ä¼°æ§åˆ¶</h2>
    <div class="ragas-controls">
        <label for="ragas-variant">é€‰æ‹©æ£€ç´¢ç­–ç•¥</label>
        <select id="ragas-variant">
            {% for key, meta in variants.items() %}
                <option value="{{ key }}">{{ meta.label }}</option>
            {% endfor %}
        </select>
        <button id="ragas-run">è¿è¡Œè¯„ä¼°</button>
    </div>
    <p class="hint">
        æ‰§è¡Œè¯„ä¼°ä¼šè°ƒç”¨ LLM è¿›è¡Œæ‰“åˆ†ï¼Œè¯·ç¡®ä¿å·²ç»é…ç½® API KEYã€‚ç»“æœä¼šç¼“å­˜ï¼Œå¯éšæ—¶åˆ·æ–°æŸ¥çœ‹ã€‚
    </p>
</section>

<section class="card">
    <h2>ğŸ—‚ï¸ è¯„ä¼°æ•°æ®é›†</h2>
    <ul id="ragas-dataset" class="dataset-list">
        <li>åŠ è½½ä¸­...</li>
    </ul>
</section>

<section class="card">
    <h2>ğŸ“ˆ æœ€æ–°è¯„ä¼°ç»“æœ</h2>
    <div id="ragas-summary" class="ragas-summary">
        <p>å°šæœªåŠ è½½ç»“æœ</p>
    </div>
    <table id="ragas-metrics-table" class="ragas-metrics-table hidden">
        <thead>
            <tr>
                <th>æŒ‡æ ‡</th>
                <th>å¾—åˆ†</th>
                <th>ç½®ä¿¡åŒºé—´</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h3>æ ·æœ¬è¯¦æƒ…</h3>
    <div id="ragas-samples" class="ragas-samples">
        <p>æš‚æ— æ ·æœ¬æ•°æ®</p>
    </div>
</section>

<script>
window.RAGAS_CONFIG = {
    datasetUrl: "{{ url_for('ragas_dataset') }}",
    resultsUrl: "{{ url_for('ragas_results', variant='__placeholder__') }}",
    runUrl: "{{ url_for('ragas_run', variant='__placeholder__') }}",
    variants: {{ variants | tojson }},
};
</script>
<script src="{{ url_for('static', path='ragas.js') }}"></script>
{% endblock %}
